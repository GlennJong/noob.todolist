<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Noob todolist</title>
	<link rel="stylesheet" href="css/stylesheet.css">
</head>
<body>
	<div class="todolist">
		<ul class="todolist-board" id="todolistBoard"></ul>
		<div class="todolist-input">
			<input id="input" type="text">
			<button id="submit">輸入</button>
		</div>
	</div>
	<!-- <script src="js/myscript.js"></script> -->
	<script>
		var model = {

			// Create Number
			listNumber: 0,
			addNumber: function() {
				this.listNumber ++
			},

			// Create Checkbox
			createCheckbox: function(num) {
			  var checkbox  = document.createElement('input');
				setAttributes(checkbox, {
					'type' : 'checkbox',
					'id'   : num
				})

				return checkbox
			},

		  // Create Para
		  createLabel: function(todoContent, num) {
		  	var label = document.createElement('label'),
		  			node  = document.createTextNode(todoContent);

		  	label.appendChild(node);
		  	setAttributes(label, {
		  		'for' : num
		  	})

		  	return label
		  },

		  // Create li
		  createLi: function(todoElement) {
				var li 				= document.createElement('li'),
						liContent = document.createDocumentFragment();
				for(var i = 0; i < todoElement.length; i++) {
					liContent.appendChild(todoElement[i])
				}
		  	li.appendChild(liContent);

				return li
		  }
		}
		var view = {
		}
		var controller = {

		}
	 	// Build Mutiple Attribute
	 	function setAttributes(el, attrs) {
		  for(var key in attrs) {
		    el.setAttribute(key, attrs[key]);
		  }
		}

		// 主控區
		function inputTodoList() {
		  var todoInput = document.getElementById('input');
		  var todoContent = todoInput.value;

		  // 清空
		  todoInput.value = "";


		  // 增加數字
		  model.addNumber()
		  var sortName  = 'c',
		  		listNum   = sortName + model.listNumber

		  var todoCheckbox  = model.createCheckbox(listNum),
		  		todoLabel     = model.createLabel(todoContent, listNum)

		  // li 裡面的元素
		  var liElement = []
		  		liElement.push(todoCheckbox)
		  		liElement.push(todoLabel)

		  // 把陣列建立成 li
		  var li = model.createLi(liElement)

		 	// 產出 HTML
		  var todolistBoard = document.getElementById("todolistBoard");
		  todolistBoard.appendChild(li);


		}

		// 按按鈕執行事件
		function init() {
		  var submitButton = document.getElementById('submit');
		  submitButton.onclick = inputTodoList;
		}

		window.onload = init;
	</script>
</body>
</html>